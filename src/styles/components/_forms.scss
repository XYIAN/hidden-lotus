// Form component styles
@use '../base/mixins' as *;
@use '../base/variables' as *;

.form-group {
	margin-bottom: var(--spacing-lg);

	.form-label {
		display: block;
		margin-bottom: var(--spacing-xs);
		font-weight: 600;
		color: var(--primary-green);
		font-size: 0.875rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	.form-input {
		@include form-input;
	}

	.form-textarea {
		@extend .form-input;
		min-height: 100px;
		resize: vertical;
	}

	.form-select {
		@extend .form-input;
		appearance: none;
		background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b8e5a' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
		background-position: right var(--spacing-sm) center;
		background-repeat: no-repeat;
		background-size: 16px;
		padding-right: var(--spacing-xl);
	}

	.form-error {
		color: #dc2626;
		font-size: 0.875rem;
		margin-top: var(--spacing-xs);
		display: flex;
		align-items: center;
		gap: var(--spacing-xs);

		&::before {
			content: "⚠";
			font-size: 1rem;
		}
	}

	.form-help {
		color: var(--earth-brown);
		font-size: 0.875rem;
		margin-top: var(--spacing-xs);
	}

	&.form-group-error {
		.form-input,
		.form-textarea,
		.form-select {
			border-color: #dc2626;
			box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
		}
	}

	&.form-group-success {
		.form-input,
		.form-textarea,
		.form-select {
			border-color: var(--sage-green-400);
			box-shadow: 0 0 0 3px rgba(107, 142, 90, 0.1);
		}
	}
}

.form-row {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
	gap: var(--spacing-md);
	margin-bottom: var(--spacing-lg);
}

.form-checkbox {
	display: flex;
	align-items: center;
	gap: var(--spacing-sm);
	margin-bottom: var(--spacing-sm);

	input[type="checkbox"] {
		width: 18px;
		height: 18px;
		border: 2px solid var(--sage-green-200);
		border-radius: var(--radius-sm);
		appearance: none;
		cursor: pointer;
		position: relative;
		background-color: white;
		transition: all var(--transition-fast);

		&:checked {
			background-color: var(--sage-green-600);
			border-color: var(--sage-green-600);

			&::after {
				content: "✓";
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				color: white;
				font-size: 12px;
				font-weight: bold;
			}
		}

		&:focus {
			outline: none;
			box-shadow: 0 0 0 3px rgba(74, 124, 89, 0.1);
		}
	}

	label {
		cursor: pointer;
		color: var(--earth-brown);
		font-size: 0.875rem;
	}
}

.form-radio {
	display: flex;
	align-items: center;
	gap: var(--spacing-sm);
	margin-bottom: var(--spacing-sm);

	input[type="radio"] {
		width: 18px;
		height: 18px;
		border: 2px solid var(--sage-green-200);
		border-radius: 50%;
		appearance: none;
		cursor: pointer;
		position: relative;
		background-color: white;
		transition: all var(--transition-fast);

		&:checked {
			border-color: var(--sage-green-600);

			&::after {
				content: "";
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 8px;
				height: 8px;
				background-color: var(--sage-green-600);
				border-radius: 50%;
			}
		}

		&:focus {
			outline: none;
			box-shadow: 0 0 0 3px rgba(74, 124, 89, 0.1);
		}
	}

	label {
		cursor: pointer;
		color: var(--earth-brown);
		font-size: 0.875rem;
	}
}

.form-actions {
	display: flex;
	gap: var(--spacing-md);
	margin-top: var(--spacing-xl);
	padding-top: var(--spacing-lg);
	border-top: 1px solid var(--sage-green-200);

	@include mobile {
		flex-direction: column;
	}
}

.form-section {
	margin-bottom: var(--spacing-2xl);
	padding: var(--spacing-lg);
	background-color: rgba(241, 226, 187, 0.1);
	border-radius: var(--radius-lg);
	border: 1px solid var(--sage-green-200);

	.form-section-title {
		@include heading-3;
		margin-bottom: var(--spacing-lg);
		color: var(--primary-green);
	}
}
